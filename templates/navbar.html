<!--&lt;!&ndash; templates/navbar.html &ndash;&gt;-->
<!--<nav class="navbar navbar-light bg-light px-3 fixed-top shadow-sm">-->
<!--    <button class="btn btn-outline-secondary" type="button" data-bs-toggle="offcanvas" data-bs-target="#sideMenu">-->
<!--        â˜°-->
<!--    </button>-->
<!--    <a class="navbar-brand ms-2 text-decoration-none text-dark" href="/">å¤§å°å—èŠ³è–°é¦™æ¤ç‰©ç²¾æ²¹æœå‹™äººå“¡è·æ¥­å·¥æœƒ</a>-->


<!--    <div class="ms-auto d-flex align-items-center gap-2">-->
<!--    {% if session.get("username") %}-->
<!--<a href="{{ url_for('cart') }}" class="btn btn-outline-secondary">-->
<!--  ğŸ›’ è³¼ç‰©è»Šï¼ˆ{{ cart_count }}ï¼‰-->
<!--</a>-->




<!--    {% endif %}-->


<!--    {% if session.get("username") %}-->
<!--        <span class="me-2 text-secondary">ğŸ‘‹Dear. {{ session.username }}</span>-->
<!--        <a href="/change_password" class="btn btn-outline-secondary btn-sm">æ”¹å¯†ç¢¼</a>-->
<!--        {% if session.role == "admin" %}-->
<!--            <a href="/upload" class="btn btn-outline-primary btn-sm">ä¸Šå‚³å½±ç‰‡</a>-->
<!--            <a href="/manage_products" class="btn btn-outline-primary btn-sm">å•†å“ç®¡ç†</a>-->
<!--            <a href="/manage_users" class="btn btn-outline-primary btn-sm">å¸³è™Ÿç®¡ç†</a>-->
<!--            <a href="/manage_rents" class="btn btn-outline-primary btn-sm">ç¢ºèªç§Ÿå€Ÿè³‡è¨Š</a>-->
<!--            <a href="/upload_file" class="btn btn-outline-primary btn-sm">ä¸Šå‚³æª”æ¡ˆ</a>-->
<!--        {% endif %}-->
<!--        <a href="/logout" class="btn btn-outline-danger btn-sm">ç™»å‡º</a>-->
<!--    {% else %}-->
<!--        <a href="/login" class="btn btn-outline-success btn-sm">ç™»å…¥</a>-->
<!--        <a href="/register" class="btn btn-outline-primary btn-sm">è¨»å†Š</a>-->
<!--    {% endif %}-->
<!--</div>-->

<!--</nav>-->

<!--<div class="offcanvas offcanvas-start" tabindex="-1" id="sideMenu">-->
<!--    <div class="offcanvas-header">-->
<!--        <h5 class="offcanvas-title">MENU</h5>-->
<!--        <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>-->
<!--    </div>-->
<!--    <div class="offcanvas-body">-->
<!--        <ul class="nav flex-column">-->
<!--            <li class="nav-item"><a class="nav-link" href="/">é¦–é </a></li>-->
<!--            <li class="nav-item"><a class="nav-link" href="/about">é—œæ–¼æœ¬æœƒ</a></li>-->
<!--            <li class="nav-item"><a class="nav-link" href="/news">æœ€æ–°è³‡è¨Š</a></li>-->
<!--            <li class="nav-item"><a class="nav-link" href="/download">ä¸‹è¼‰å°ˆå€</a></li>-->
<!--            <li class="nav-item"><a class="nav-link" href="/rent">æ•™å®¤ç§Ÿå€Ÿ</a></li>-->
<!--            <li class="nav-item"><a class="nav-link" href="/contact">è¯çµ¡æˆ‘å€‘</a></li>-->
<!--            <li class="nav-item"><a class="nav-link" href="/shop">ç²¾æ²¹å•†åŸ</a></li>-->
<!--            <li class="nav-item"><a class="nav-link" href="/video">å½±éŸ³å°ˆå€</a></li>-->
<!--        </ul>-->
<!--    </div>-->
<!--</div>-->
<!--{% if session.get("role") == "admin" %}-->
<!--  <a href="{{ url_for('manage_users') }}">å¸³è™Ÿç®¡ç†</a>-->
<!--{% endif %}-->

<!-- -->
<!-- templates/navbar.html -->
<nav class="navbar navbar-light bg-light px-3 fixed-top shadow-sm">
  <!-- æ¼¢å ¡æŒ‰éˆ• -->
  <button class="btn btn-outline-secondary" type="button" data-bs-toggle="offcanvas" data-bs-target="#sideMenu" aria-controls="sideMenu">
    â˜°
  </button>

  <!-- å“ç‰Œåç¨± -->
  <a class="navbar-brand ms-2 text-decoration-none text-dark" href="{{ url_for('index') }}">
    å¤§å°å—èŠ³è–°é¦™æ¤ç‰©ç²¾æ²¹æœå‹™äººå“¡è·æ¥­å·¥æœƒ
  </a>

  <!-- å³å´ï¼šä½¿ç”¨è€… -->
  <div class="ms-auto d-flex align-items-center gap-2">
    {% if session.get("username") %}
      <span class="me-2 text-secondary">ğŸ‘‹ Dear. {{ session.get('username') }}</span>
      <a href="{{ url_for('change_password') }}" class="btn btn-outline-secondary btn-sm">æ”¹å¯†ç¢¼</a>
      <a href="{{ url_for('logout') }}" class="btn btn-outline-danger btn-sm">ç™»å‡º</a>
    {% else %}
      <a href="{{ url_for('login') }}" class="btn btn-outline-success btn-sm">ç™»å…¥</a>
      <a href="{{ url_for('register') }}" class="btn btn-outline-primary btn-sm">è¨»å†Š</a>
    {% endif %}
  </div>
</nav>

<!-- å·¦å´ Offcanvas -->
<div class="offcanvas offcanvas-start" tabindex="-1" id="sideMenu" aria-labelledby="sideMenuLabel">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" id="sideMenuLabel">MENU</h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>

  <div class="offcanvas-body">
    <!-- ä¸€èˆ¬å°è¦½ -->
    <ul class="nav flex-column mb-3">
      <li class="nav-item"><a class="nav-link" href="{{ url_for('index') }}">é¦–é </a></li>
      <li class="nav-item"><a class="nav-link" href="{{ url_for('about') }}">é—œæ–¼æœ¬æœƒ</a></li>
      <li class="nav-item"><a class="nav-link" href="{{ url_for('news') }}">æœ€æ–°è³‡è¨Š</a></li>
      <li class="nav-item"><a class="nav-link" href="{{ url_for('downloads') }}">ä¸‹è¼‰å°ˆå€</a></li>
      <li class="nav-item"><a class="nav-link" href="{{ url_for('rent') }}">æ•™å®¤ç§Ÿå€Ÿ</a></li>
      <li class="nav-item"><a class="nav-link" href="{{ url_for('contact') }}">è¯çµ¡æˆ‘å€‘</a></li>
      <li class="nav-item"><a class="nav-link" href="{{ url_for('shop') }}">ç²¾æ²¹å•†åŸ</a></li>
      <li class="nav-item"><a class="nav-link" href="{{ url_for('video_gallery') }}">å½±éŸ³å°ˆå€</a></li>
    </ul>

    {% if session.get("username") %}
      <hr>
      <!-- è³¼ç‰©è»Š -->
      <ul class="nav flex-column mb-3">
        <li class="nav-item"><a class="nav-link" href="{{ url_for('cart') }}">ğŸ›’ è³¼ç‰©è»Šï¼ˆ{{ cart_count }}ï¼‰</a></li>
      </ul>
    {% endif %}

    {% if session.get('role') == 'admin' %}
      <hr>
      <!-- ç¶œåˆç®¡ç† -->
      <ul class="nav flex-column">
        <li class="nav-item">
          <a class="nav-link d-flex justify-content-between align-items-center"
             data-bs-toggle="collapse" href="#adminMenu" role="button"
             aria-expanded="false" aria-controls="adminMenu">
            ç¶œåˆç®¡ç†
            <span class="arrow">&#9656;</span> <!-- â–¶ -->
          </a>
          <div class="collapse ps-2" id="adminMenu">
            <ul class="nav flex-column admin-submenu">
              <li class="nav-item"><a class="nav-link" href="{{ url_for('manage_users') }}">å¸³è™Ÿç®¡ç†</a></li>
              <li class="nav-item"><a class="nav-link" href="{{ url_for('manage_products') }}">å•†å“ç®¡ç†</a></li>
              <li class="nav-item"><a class="nav-link" href="{{ url_for('manage_rents') }}">ç¢ºèªç§Ÿå€Ÿè³‡è¨Š</a></li>
              <li class="nav-item"><a class="nav-link" href="{{ url_for('upload_file') }}">ä¸Šå‚³æª”æ¡ˆ</a></li>
              <li class="nav-item"><a class="nav-link" href="{{ url_for('upload_video') }}">ä¸Šå‚³å½±ç‰‡</a></li>
              <li class="nav-item"><a class="nav-link" href="{{ url_for('edit_about') }}">é—œæ–¼æˆ‘å€‘ï¼ˆç·¨è¼¯ï¼‰</a></li>
            </ul>
          </div>
        </li>
      </ul>
    {% endif %}
  </div>
</div>

<!-- CSS -->
<style>
  .arrow {
    transition: transform 0.2s ease;
  }
  .nav-link[aria-expanded="true"] .arrow {
    transform: rotate(90deg); /* â–¶ è½‰ â–¼ */
  }

  /* ç¶œåˆç®¡ç†å­é¸å–® */
  .admin-submenu {
    background-color: #f8f9fa; /* æ·ºç°èƒŒæ™¯ */
    border-left: 2px solid #dee2e6; /* å·¦å´ç´°ç·š */
    margin-top: 5px;
    padding: 5px 0;
    border-radius: 4px;
  }
  .admin-submenu .nav-link {
    color: #6c757d; /* é è¨­ç°è‰² */
    padding: 5px 15px;
  }
  .admin-submenu .nav-link:hover {
    background-color: #e9ecef; /* hover æ™‚æ·ºç°åº• */
    color: #000; /* hover æ™‚æ·±ç°å­— */
    border-radius: 3px;
  }
</style>

