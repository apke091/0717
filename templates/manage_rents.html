

{% extends "base.html" %}
{% block title %}ç§Ÿå€Ÿç”³è«‹ç®¡ç†{% endblock %}

{% block content %}
<div class="container" style="margin-top: 90px">
  <h2>ğŸ“… ç§Ÿå€Ÿç”³è«‹ç´€éŒ„</h2>

  {% if rents %}
  <table class="table table-bordered table-hover align-middle mt-4">
    <thead class="table-light">
      <tr>
        <th>ç”³è«‹æ™‚é–“</th>
        <th>å ´åœ°</th>
        <th>æ—¥æœŸ</th>
        <th>æ™‚æ®µ</th>
        <th>è¯çµ¡äºº</th>
        <th>é›»è©±</th>
        <th>é›»å­éƒµä»¶</th>
        <th>å‚™è¨»</th>
        <th>ç‹€æ…‹</th>
        <th>æ“ä½œ</th>
      </tr>
    </thead>
    <tbody>
      {% for r in rents %}
      <tr>
        <td>{{ r.submitted_at }}</td>
        <td>{{ r.location }}</td>
        <td>{{ r.date }}</td>
        <td>{{ r.time_slot }}</td>
        <td>{{ r.name }}</td>
        <td>{{ r.phone }}</td>
        <td><a href="mailto:{{ r.email }}">{{ r.email }}</a></td>
        <td>{{ r.note or '' }}</td>
        <td>
          {% if r.status == 'approved' %}
            âœ… é€šé
          {% elif r.status == 'rejected' %}
            âŒ é§å›
          {% else %}
            â³ å¯©æ ¸ä¸­
          {% endif %}
        </td>
        <td>
          {% if r.status == 'pending' %}
          <form method="post" style="display:inline;" onsubmit="return confirm('ç¢ºå®šè¦é€šéé€™ç­†ç”³è«‹å—ï¼Ÿ');">
            <input type="hidden" name="id" value="{{ r.id }}">
            <button name="action" value="approve" class="btn btn-sm btn-success">é€šé</button>
          </form>
          <form method="post" style="display:inline;" onsubmit="return confirm('ç¢ºå®šè¦é§å›ä¸¦åˆªé™¤é€™ç­†ç”³è«‹å—ï¼Ÿæ­¤å‹•ä½œç„¡æ³•é‚„åŸ');">
            <input type="hidden" name="id" value="{{ r.id }}">
            <button name="action" value="reject" class="btn btn-sm btn-danger">é§å›</button>
          </form>
          {% else %}ï¼{% endif %}
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
  <p class="mt-4">ç›®å‰å°šç„¡ä»»ä½•ç”³è«‹ã€‚</p>
  {% endif %}
</div>
{% endblock %}
